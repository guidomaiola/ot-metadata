# CRUD operations with entities Student and Course that implements many-to-many relationship

## Pre requisites
- \>= Java 8
- \>= MySQL 8
- Create database with name otmetadata

## Setup Guide
1. Login to your mysql terminal and create mysql database with following command : 
```
  create database otmetadata;
```
2. Adjust application.properties file
  - Change the \<username\> to your Mysql Username
  - Change the \<password\> to your Mysql Password

3. Go to root directory that is ~/spring-boot-crud and run the following command
```
  ./mvnw spring-boot:run
```

If Step 1 and 2 are properly configured, you will see **Tomcat started on port(s): 8080**. Now use the Postman collection mentioned at bottom to explore the APIs.

## Brief Introduction of APIs 
1. There are 8 APIs for student and courses,which contains CRUD for each.
2. JSON for Student as follows : 
```
{
    "name" : "Student A",
    "courses" : [
        {"id" : 1}
    ]
}
```
In above Student JSON, courses field is optional. 

3. JSON for Courses as follows : 
```
{
    "name" : "Course A"
}
```

## Project Architecture
1. MVC pattern is used to seggregate the functionality,and the view part is not being used for now.
2. A dedicated Repository folder is used to change the datasource with minimal changes. 
3. Outline of Core logic folder is as follows : 
  ```
  -- springbootcrud
    |-- SpringBootCrudApplication.java
    |-- controller
    |   |-- CourseController.java
    |   `-- StudentController.java
    |-- model
    |   |-- Course.java
    |   `-- Student.java
    |-- repository
    |   |-- CourseRepository.java
    |   `-- StudentRepository.java
    `-- service
        |-- CourseService.java
        |-- CourseServiceImpl.java
        |-- StudentService.java
        `-- StudentServiceImpl.java

  ```

## Entities are as follows
- Student (id, name)
- Course (id,name)
- An intermediate entity known as student_courses is generated by JPARepository ORM which holds mapping of both tables





DOCKER Mysql

Option 1

docker run --network=isolated -e MYSQL_ROOT_PASSWORD=password -e MYSQL_DB=otmetadata -e MYSQL_ROOT_HOST=%  --name=mysql2 mysql:latest



Option 2

 docker network create --driver bridge isolated
 docker run --network=isolated -itd --name=mysql mysql

 docker logs mysql 2>&1 | grep GENERATED
   Output of above command is:
   [Entrypoint] GENERATED ROOT PASSWORD: PopiKQIjAS#OGj3x]yJOBLEn80p

 docker exec -it mysql mysql -uroot -p

    mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'password';

